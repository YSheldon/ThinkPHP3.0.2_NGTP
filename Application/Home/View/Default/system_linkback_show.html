<include file="Index:main"/>
<link rel="stylesheet" href="{$Think.config.NG_PATH}Public/css/yngtos/policy/policy_nat.css"
      type="text/css"/>
<script src="{$Think.config.NG_PATH}Public/modules/auth/footer.js"></script>
<style>
    .panel-body-noheader{border:none;}
</style>
<script src="{$Think.config.NG_PATH}Public/modules/system/linkback.js" type="text/javascript"></script>
<table id="tt"></table>
<div id="tb">
    <div>
        <a href="javascript:void(0);" class="easyui-linkbutton" iconCls="icon-add" plain="true" onClick="AddLinkBack()">{$Think.lang.ADD}</a>
        <a href="javascript:void(0);" class="easyui-linkbutton" id='ipdelete' iconCls="icon-delete" plain="true" onClick="LinkBackDelete();">{$Think.lang.DELETE}</a>
        <a href="javascript:void(0);" class="easyui-linkbutton" iconCls="icon-clear" plain="true" onClick="LinkBackDeleteAll();">{$Think.lang.CLEAR}</a>
        <a href="#" class="easyui-linkbutton" data-options="iconCls:'icon-enable',plain:true" id="icon_enable" onClick="enableLinkRoles()">{$Think.lang.ENABLE}</a>
        <a href="#" class="easyui-linkbutton" data-options="iconCls:'icon-disable',plain:true" id="icon_disable" onClick="disableLinkRoles()">{$Think.lang.STOP}</a>
    </div>
</div>
<script type="text/javascript">
    $(function() {
        $('#tt').datagrid({
            fit: true,
            fitColumns: true,
            striped: true,
            border: true,
            url: '?c=System/LinkBack&a=datagridShow',
            queryParams:{
                mod:'network linkbak',
                act:'show'
            },
            frozenColumns: [[
                    {field: 'ck', checkbox: true}
                ]],
            columns: [[
                    {field: 'id', title: 'ID', align: 'left', width: 80},
                    {field: 'dst', title: $LANG.DST_ADDR_MASK, align: 'left', width: 100},
                    {field: 'masterid', title: $LANG.HOST_LINK + 'ID', align: 'left', width: 80},
                    {field: 'slaveid', title: $LANG.FROM_LINK + 'ID', align: 'left', width: 80},
                    {field: 'using', title: $LANG.CURRENT_USE_LINK, align: 'left', width: 100},
                    {field: 'state', title: $LANG.STATE, align: 'left', width: 100}
                ]],
            loadMsg: $LANG.WAITING,
            toolbar: '#tb',
            checkOnSelect: true,
            onCheck: setLinkBack,
            onUncheck: setLinkBack,
            onCheckAll: setLinkBack,
            onUncheckAll: setLinkBack,
            onLoadSuccess: setLinkBack
        });
    });
</script>
</div>
</div>
</body>
</html>